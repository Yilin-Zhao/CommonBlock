<!DOCTYPE html>
<html>
  <head>
    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  </head>
  <body>
    <header>
      <h1>Common Block</h1>
      <nav>
        <ul>
          <li><a href="{{ url_for('index') }}">Home</a></li>
          <li><a href="{{ url_for('about') }}">About</a></li>
          {% if current_user.is_authenticated %}
            <li><a href="{{ url_for('edit_account') }}">Edit Account</a></li>
            <li><a href="{{ url_for('leave_review') }}">Leave Review</a></li>
            <li><a href="{{ url_for('join_group') }}">Join Group</a></li>
            <li><a href="{{ url_for('logout') }}">Log out</a></li>
            <li><a href="{{ url_for('search') }}">Search for Listing</a></li>
          {% else %}
            <li{% if request.path == url_for('login') %} class="active"{% endif %}><a href="{{ url_for('login') }}">Log in</a></li>
            <li{% if request.path == url_for('signup') %} class="active"{% endif %}><a href="{{ url_for('signup') }}">Sign up</a></li>
          {% endif %}
        </ul>
      </nav>
    </header>
    <main>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <ul class="flashes">
            {% for message in messages %}
              <li>{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>
    <footer>
      <p>&copy; 2023 Common Block</p>
    </footer>
  </body>
</html>
